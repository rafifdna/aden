import { visit } from "unist-util-visit";
import { DEFAULT_MAPPING } from "./default-mapping.const.js";
import { parseGithubAlertBlockquote } from "./parse-github-alert-blockquote.js";
export const remarkGithubAdmonitionsToDirectives = (options) => {
    const { mapping = DEFAULT_MAPPING } = options ?? {};
    return (tree) => {
        visit(tree, "blockquote", (node, index, parent) => {
            const githubAlert = parseGithubAlertBlockquote(node);
            if (githubAlert === null)
                return;
            const directive = {
                type: "containerDirective",
                name: mapping[githubAlert.type],
                children: githubAlert.children,
            };
            if (parent === undefined || index === undefined)
                return;
            parent.children[index] = directive;
        });
    };
};
//# sourceMappingURL=plugin.js.map